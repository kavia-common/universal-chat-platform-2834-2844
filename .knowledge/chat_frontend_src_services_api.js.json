{"is_source_file": true, "format": "JavaScript", "description": "This file defines the ApiClient class used for interacting with a REST API backend in a chat frontend. It includes methods for listing rooms, users, retrieving messages, and sending messages, along with internal methods for handling HTTP requests and authorization.", "external_files": ["fetch", "process", "headers", "Promise", "JSON", "console", "Error"], "external_methods": ["fetch"], "published": ["ApiClient"], "classes": [{"name": "ApiClient", "description": "A reusable REST API client class for the chat frontend that manages API requests, authorization, and error handling."}], "methods": [{"name": "constructor({ baseUrl, getAuthToken } = {})", "description": "Initializes a new ApiClient instance with optional baseUrl and getAuthToken function.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "_headers()", "description": "Internal method to assemble request headers, including authorization tokens if available.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "_fetch(path, options = {})", "description": "Internal method that performs an HTTP fetch with error handling, content-type detection, and response parsing.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "listRooms()", "description": "Retrieve the list of chat rooms from the backend, proxying to MCP as needed.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "listUsers()", "description": "Retrieve the list of users or agents currently online.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "getMessages(roomId)", "description": "Retrieve messages for a specified room.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "sendMessage(roomId, content)", "description": "Send a message to a specified room with the given content.", "scope": "ApiClient", "scopeKind": "class"}], "calls": ["this._headers()", "this._fetch()", "fetch()"], "search-terms": ["ApiClient", "REST API chat frontend", "listRooms method", "sendMessage implementation", "API request headers", "backend route proxies"], "state": 2, "file_id": 13, "knowledge_revision": 34, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiClient", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^export class ApiClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^      \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "ApiClient._headers.headers", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^const DEFAULT_BASE = \"\\/api\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "_fetch", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^  async _fetch(path, options = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(path, options = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "_headers", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^  async _headers() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^const api = new ApiClient({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^  constructor({ baseUrl, getAuthToken } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ baseUrl, getAuthToken } = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getMessages", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^  async getMessages(roomId) {$/", "language": "JavaScript", "kind": "method", "signature": "(roomId)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^    const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "ApiClient._headers", "scopeKind": "class"}, {"_type": "tag", "name": "listRooms", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^  async listRooms() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "listUsers", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^  async listUsers() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "sendMessage", "path": "/home/kavia/workspace/code-generation/universal-chat-platform-2834-2844/chat_frontend/src/services/api.js", "pattern": "/^  async sendMessage(roomId, content) {$/", "language": "JavaScript", "kind": "method", "signature": "(roomId, content)", "scope": "ApiClient", "scopeKind": "class"}], "hash": "30f4df21fc952d3a337c00f35668ce2e", "format-version": 4, "code-base-name": "chat_frontend", "filename": "chat_frontend/src/services/api.js", "fields": [{"name": "\"Content-Type\": \"application\\/json\",", "scope": "ApiClient._headers.headers", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"34": ""}]}